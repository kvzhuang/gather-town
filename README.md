# 🎭 AI 社群對話系統

一個模擬 6 位 AI 角色日常生活對話的互動式 web 應用。透過 OpenAI API 生成自然的中文對話，並自動記錄所有對話內容。

## ✨ 特色功能

- 👥 **6 個獨特角色**：3 男 3 女，每個角色都有獨特的性格、職業和興趣
- 💬 **智能對話生成**：使用 OpenAI GPT-3.5 生成符合角色個性的自然對話
- 🤖 **自動模式**：可以讓角色們自動持續對話
- 💾 **對話記錄**：自動儲存對話到 JSON 檔案
- 🎨 **精美介面**：響應式設計，支援手機和桌面瀏覽器
- 🇹🇼 **中文對話**：所有對話都是繁體中文

## 📦 角色介紹

### 男性角色
1. **李明哲** - 28歲軟體工程師，理性邏輯，熱愛科技
2. **陳俊傑** - 32歲健身教練，充滿活力，積極正面
3. **王凱文** - 26歲平面設計師，創意十足，藝術氣息

### 女性角色
4. **林雅婷** - 27歲產品經理，聰明果斷，善於溝通
5. **張詩涵** - 25歲幼教老師，溫柔有耐心，充滿愛心
6. **黃欣怡** - 30歲記者，好奇心強，關注社會議題

## 🚀 快速開始

### 環境需求

- Node.js 14 或更高版本
- npm 或 yarn
- OpenAI API Key

### 安裝步驟

1. **複製專案**（如果你是從其他地方獲得這個專案）
   ```bash
   cd gather-town
   ```

2. **安裝相依套件**
   ```bash
   npm install
   ```

3. **設定環境變數**

   已經為你創建了 `.env` 檔案，包含你的 OpenAI API key。

   ⚠️ **重要安全提醒**：你的 API key 已在對話中公開，建議立即到 [OpenAI 後台](https://platform.openai.com/api-keys) 刪除該 key 並重新生成新的。

4. **啟動伺服器**
   ```bash
   npm start
   ```

   或使用開發模式（自動重啟）：
   ```bash
   npm run dev
   ```

5. **開啟瀏覽器**

   訪問 `http://localhost:3000`

## 📖 使用說明

### 基本操作

- **生成對話**：點擊「生成對話」按鈕，系統會隨機選擇一個角色發言
- **自動模式**：點擊「自動模式」，角色們會自動持續對話（每 5-10 秒一次）
- **儲存對話**：點擊「儲存對話」，將當前對話記錄儲存到 `conversations/` 資料夾
- **清除記錄**：點擊「清除記錄」，清空當前頁面的對話（不影響已儲存的檔案）

### 對話記錄

- 對話每 20 條會自動儲存一次
- 手動儲存會立即將對話記錄寫入 JSON 檔案
- 檔案位置：`conversations/conversation_YYYY-MM-DDTHH-MM-SS.json`

## 🛠 技術架構

### 後端
- **Node.js** + **Express**：Web 伺服器
- **OpenAI API**：對話生成
- **dotenv**：環境變數管理

### 前端
- 原生 **HTML/CSS/JavaScript**
- 無框架依賴，輕量快速
- 響應式設計

## 📁 專案結構

```
gather-town/
├── server.js              # 後端伺服器主程式
├── package.json           # 專案設定檔
├── characters.json        # 角色定義檔
├── .env                   # 環境變數（包含 API key）
├── .env.example           # 環境變數範例
├── .gitignore            # Git 忽略檔案
├── README.md             # 專案說明文件
├── public/               # 前端靜態檔案
│   ├── index.html        # 主頁面
│   ├── style.css         # 樣式表
│   └── app.js            # 前端 JavaScript
└── conversations/        # 對話記錄儲存目錄
    └── *.json            # 對話記錄檔案
```

## 🔧 自訂設定

### 修改角色

編輯 `characters.json` 檔案，可以調整角色的：
- 姓名、年齡、性別
- 職業和背景
- 性格特點
- 興趣愛好

### 調整對話頻率

在 `public/app.js` 中修改自動模式的時間間隔：
```javascript
// 目前設定為 5-10 秒隨機
const delay = 5000 + Math.random() * 5000;
```

### 更換 OpenAI 模型

在 `server.js` 中修改模型名稱：
```javascript
model: "gpt-3.5-turbo"  // 可改為 "gpt-4" 等
```

## 💡 注意事項

1. **API 費用**：使用 OpenAI API 會產生費用，請注意用量
2. **API Key 安全**：
   - 不要將 `.env` 檔案提交到 Git
   - 不要在公開場合分享你的 API key
   - 建議定期更換 API key
3. **自動模式**：長時間使用自動模式會快速消耗 API 配額

## 🐛 疑難排解

### 無法連接 OpenAI API
- 檢查 `.env` 檔案中的 API key 是否正確
- 確認網路連線正常
- 檢查 OpenAI 帳戶是否有足夠額度

### 對話生成失敗
- 查看瀏覽器控制台的錯誤訊息
- 檢查終端機的伺服器日誌
- 確認 API key 有效且未過期

### 埠號被佔用
如果 3000 埠已被使用，可以在 `.env` 中修改：
```
PORT=8080
```

## 📝 授權

MIT License

## 🙏 致謝

- OpenAI for GPT API
- Express.js 團隊
- 所有開源貢獻者

---

享受與 AI 角色們的對話吧！ 🎉
